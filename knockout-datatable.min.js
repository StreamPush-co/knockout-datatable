!function(){this.DataTable=function(){function a(a,b){var c=this;if(null==b.sortField)throw new Error("sortField must be supplied.");this.options={recordWord:b.recordWord||"record",recordWordPlural:b.recordWordPlural,sortDir:b.sortDir||"asc",sortField:b.sortField,perPage:b.perPage||15,filterFn:b.filterFn||function(){}},this.sortDir=ko.observable(this.options.sortDir),this.sortField=ko.observable(this.options.sortField),this.perPage=ko.observable(this.options.perPage),this.currentPage=ko.observable(1),this.filter=ko.observable(""),this.loading=ko.observable(!1),this.filter.subscribe(function(){return c.currentPage(1)}),this.rows=ko.observableArray(a),this.filteredRows=ko.computed(function(){var b;return b=c.filter(),a=c.rows(),""!==b&&(a=a.filter(c.options.filterFn(b))),a.sort(function(a,b){var d,e;return d=ko.utils.unwrapObservable(a[c.sortField()]),e=ko.utils.unwrapObservable(b[c.sortField()]),"string"==typeof d&&(d=d.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),"asc"===c.sortDir()?e>d||""===d||null==d?-1:d>e||""===e||null==e?1:0:e>d||""===d||null==d?1:d>e||""===e||null==e?-1:0})}),this.pagedRows=ko.computed(function(){var a,b;return a=c.currentPage()-1,b=c.perPage(),c.filteredRows().slice(a*b,(a+1)*b)}),this.pages=ko.computed(function(){return Math.ceil(c.filteredRows().length/c.perPage())}),this.leftPagerClass=ko.computed(function(){return 1===c.currentPage()?"disabled":void 0}),this.rightPagerClass=ko.computed(function(){return c.currentPage()===c.pages()?"disabled":void 0}),this.total=ko.computed(function(){return c.filteredRows().length}),this.from=ko.computed(function(){return(c.currentPage()-1)*c.perPage()+1}),this.to=ko.computed(function(){var a;return a=c.currentPage()*c.perPage(),a>c.total()?c.total():a}),this.recordsText=ko.computed(function(){var a,b,d,e,f,g;return b=c.pages(),g=c.total(),a=c.from(),f=c.to(),d=c.options.recordWord,e=c.options.recordWordPlural||d+"s",b>1?""+a+" to "+f+" of "+g+" "+e:""+g+" "+(g>1||0===g?e:d)}),this.showNoData=ko.computed(function(){return 0===c.pagedRows().length&&!c.loading()}),this.showLoading=ko.computed(function(){return c.loading()}),this.sortClass=function(a){return ko.computed(function(){return c.sortField()===a?"asc"===c.sortDir()?"icon-sort-up":"icon-sort-down":"icon-sort"})}}return a.prototype.toggleSort=function(a){var b=this;return function(){return b.sortField()===a?b.sortDir("asc"===b.sortDir()?"desc":"asc"):(b.sortDir("asc"),b.sortField(a))}},a.prototype.prevPage=function(){var a;return a=this.currentPage(),1!==a?this.currentPage(a-1):void 0},a.prototype.nextPage=function(){var a;return a=this.currentPage(),a!==this.pages()?this.currentPage(a+1):void 0},a.prototype.gotoPage=function(a){var b=this;return function(){return b.currentPage(a)}},a.prototype.pageClass=function(a){var b=this;return ko.computed(function(){return b.currentPage()===a?"active":void 0})},a}()}.call(this);