(function(){this.DataTable=function(){function t(t,r){var e;if(r||(t instanceof Array?r={}:(r=t,t=[])),this.options={recordWord:r.recordWord||"record",recordWordPlural:r.recordWordPlural,sortDir:r.sortDir||"asc",sortField:r.sortField||void 0,perPage:r.perPage||15,filterFn:r.filterFn||void 0,unsortedClass:r.unsortedClass||"",descSortClass:r.descSortClass||"",ascSortClass:r.ascSortClass||""},this.initObservables(),(e=r.serverSidePagination)&&e.enabled){if(!e.path||!e.loader)throw new Error("`path` or `loader` missing from `serverSidePagination` object");this.options.paginationPath=e.path,this.options.resultHandlerFn=e.loader,this.initWithServerSidePagination()}else this.initWithClientSidePagination(t)}var r,e;return e=ko.pureComputed||ko.computed,r=function(t,r){return null===r||void 0===r?null===t||void 0===t:null!==t&&void 0!==t?"boolean"==typeof t?t===r:t.toString().toLowerCase().indexOf(r.toString().toLowerCase())>=0||t===r:!1},t.prototype.initObservables=function(){this.sortDir=ko.observable(this.options.sortDir),this.sortField=ko.observable(this.options.sortField),this.perPage=ko.observable(this.options.perPage),this.currentPage=ko.observable(1),this.filter=ko.observable(""),this.loading=ko.observable(!1),this.rows=ko.observableArray([])},t.prototype.initWithClientSidePagination=function(t){var n,o=this;this.filtering=ko.observable(!1),this.filter.subscribe(function(){o.currentPage(1)}),this.perPage.subscribe(function(){o.currentPage(1)}),this.rows(t),this.rowAttributeMap=e(function(r){return function(){var e,n,o;if(t=r.rows(),e={},t.length>0){o=t[0];for(n in o)o.hasOwnProperty(n)&&(e[n.toLowerCase()]=n)}return e}}(this)),this.filteredRows=e(function(r){return function(){var e,n,o;return r.filtering(!0),e=r.filter(),t=r.rows.slice(0),""!==e&&(n=r.filterFn(e),t=t.filter(n)),((o=r.sortField())||0===o)&&t.sort(function(t,e){var n,i;return n=ko.utils.unwrapObservable(t[o]),i=ko.utils.unwrapObservable(e[o]),"string"==typeof n&&(n=n.toLowerCase()),"string"==typeof i&&(i=i.toLowerCase()),"asc"===r.sortDir()?i>n||""===n||null===n||void 0===n?-1:n>i||""===i||null===i||void 0===i?1:0:i>n||""===n||null===n||void 0===n?1:n>i||""===i||null===i||void 0===i?-1:0}),r.filtering(!1),t}}(this)).extend({rateLimit:50,method:"notifyWhenChangesStop"}),this.pagedRows=e(function(t){return function(){var r,e;return r=t.currentPage()-1,e=t.perPage(),t.filteredRows().slice(r*e,(r+1)*e)}}(this)),this.pages=e(function(t){return function(){return Math.ceil(t.filteredRows().length/t.perPage())}}(this)),this.leftPagerClass=e(function(t){return function(){return 1===t.currentPage()?"disabled":void 0}}(this)),this.rightPagerClass=e(function(t){return function(){return t.currentPage()===t.pages()?"disabled":void 0}}(this)),this.total=e(function(t){return function(){return t.filteredRows().length}}(this)),this.from=e(function(t){return function(){return(t.currentPage()-1)*t.perPage()+1}}(this)),this.to=e(function(t){return function(){var r;return r=t.currentPage()*t.perPage(),r>t.total()?t.total():r}}(this)),this.recordsText=e(function(t){return function(){var r,e,n,o,i,s;return e=t.pages(),s=t.total(),r=t.from(),i=t.to(),n=t.options.recordWord,o=t.options.recordWordPlural||n+"s",e>1?""+r+" to "+i+" of "+s+" "+o:""+s+" "+(s>1||0===s?o:n)}}(this)),this.showNoData=e(function(t){return function(){return 0===t.pagedRows().length&&!t.loading()}}(this)),this.showLoading=e(function(t){return function(){return t.loading()}}(this)),this.sortClass=function(t){return function(r){return e(function(){return t.sortField()===r?"sorted "+("asc"===t.sortDir()?t.options.ascSortClass:t.options.descSortClass):t.options.unsortedClass})}}(this),this.addRecord=function(t){return function(r){return t.rows.push(r)}}(this),this.removeRecord=function(t){return function(r){return t.rows.remove(r),0===t.pagedRows().length?t.prevPage():void 0}}(this),this.replaceRows=function(t){return function(r){return t.rows(r),t.currentPage(1),t.filter(void 0)}}(this),n=function(t,e,n){var o,i;return function(){var t;t=[];for(o in n)i=n[o],t.push(i);return t}().some(function(n){return r(ko.isObservable(e[n])?e[n]():e[n],t)})},this.filterFn=this.options.filterFn||function(t){return function(e){var o=[],i={};return e.split(" ").forEach(function(t){var r;t.indexOf(":")>=0?(r=t.split(":"),i[r[0]]=function(){switch(r[1].toLowerCase()){case"yes":case"true":return!0;case"no":case"false":return!1;case"blank":case"none":case"null":case"undefined":return void 0;default:return r[1].toLowerCase()}}()):o.push(t)}),o=o.join(" "),function(e){var s,u,a=[];for(s in i){u=i[s];var c=t.rowAttributeMap()[s.toLowerCase()];a.push(c?r(ko.isObservable(e[c])?e[c]():e[c],u):!1)}return-1===a.indexOf(!1)?""!==o?"function"==typeof e.match?e.match(o):n(o,e,t.rowAttributeMap()):!0:!1}}}(this)},t.prototype.initWithServerSidePagination=function(){var t,r;r=function(t){return function(r,e){var n,o,i,s;return i=""+t.options.paginationPath+"?"+function(){var t;t=[];for(n in r)s=r[n],t.push(""+encodeURIComponent(n)+"="+encodeURIComponent(s));return t}().join("&"),o=new XMLHttpRequest,o.open("GET",i,!0),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){return o.status>=200&&o.status<400?e(null,JSON.parse(o.responseText)):e(new Error("Error communicating with server"))},o.onerror=function(){return e(new Error("Error communicating with server"))},o.send()}}(this),t=function(t,r,e,n,o){var i;return i={perPage:t,page:r},(e||0===e)&&(i.filter=e),!n&&0!==n||!o&&0!==o||(i.sortDir=n,i.sortBy=o),i},this.filtering=ko.observable(!1),this.pagedRows=ko.observableArray([]),this.numFilteredRows=ko.observable(0),this.filter.subscribe(function(t){return function(){return t.currentPage(1)}}(this)),this.perPage.subscribe(function(t){return function(){return t.currentPage(1)}}(this)),ko.computed(function(e){return function(){var n;return e.loading(!0),e.filtering(!0),n=t(e.perPage(),e.currentPage(),e.filter(),e.sortDir(),e.sortField()),r(n,function(t,r){var n,o;return e.loading(!1),e.filtering(!1),t?console.log(t):(o=r.total,n=r.results,e.numFilteredRows(o),e.pagedRows(n.map(e.options.resultHandlerFn)))})}}(this)).extend({rateLimit:500,method:"notifyWhenChangesStop"}),this.pages=e(function(t){return function(){return Math.ceil(t.numFilteredRows()/t.perPage())}}(this)),this.leftPagerClass=e(function(t){return function(){return 1===t.currentPage()?"disabled":void 0}}(this)),this.rightPagerClass=e(function(t){return function(){return t.currentPage()===t.pages()?"disabled":void 0}}(this)),this.from=e(function(t){return function(){return(t.currentPage()-1)*t.perPage()+1}}(this)),this.to=e(function(t){return function(){var r,e;return r=t.currentPage()*t.perPage(),r>(e=t.numFilteredRows())?e:r}}(this)),this.recordsText=e(function(t){return function(){var r,e,n,o,i,s;return e=t.pages(),s=t.numFilteredRows(),r=t.from(),i=t.to(),n=t.options.recordWord,o=t.options.recordWordPlural||n+"s",e>1?""+r+" to "+i+" of "+s+" "+o:""+s+" "+(s>1||0===s?o:n)}}(this)),this.showNoData=e(function(t){return function(){return 0===t.pagedRows().length&&!t.loading()}}(this)),this.showLoading=e(function(t){return function(){return t.loading()}}(this)),this.sortClass=function(t){return function(r){return e(function(){return t.sortField()===r?"sorted "+("asc"===t.sortDir()?t.options.ascSortClass:t.options.descSortClass):t.options.unsortedClass})}}(this),this.addRecord=function(){throw new Error("#addRecord() not applicable with serverSidePagination enabled")},this.removeRecord=function(){throw new Error("#removeRecord() not applicable with serverSidePagination enabled")},this.replaceRows=function(){throw new Error("#replaceRows() not applicable with serverSidePagination enabled")},this.refreshData=function(e){return function(){var n;return e.loading(!0),e.filtering(!0),n=t(e.perPage(),e.currentPage(),e.filter(),e.sortDir(),e.sortField()),r(n,function(t,r){var n,o;return e.loading(!1),e.filtering(!1),t?console.log(t):(o=r.total,n=r.results,e.numFilteredRows(o),e.pagedRows(n.map(e.options.resultHandlerFn)))})}}(this)},t.prototype.toggleSort=function(t){return function(r){return function(){return r.currentPage(1),r.sortField()===t?r.sortDir("asc"===r.sortDir()?"desc":"asc"):(r.sortDir("asc"),r.sortField(t))}}(this)},t.prototype.prevPage=function(){var t;return t=this.currentPage(),1!==t?this.currentPage(t-1):void 0},t.prototype.nextPage=function(){var t;return t=this.currentPage(),t!==this.pages()?this.currentPage(t+1):void 0},t.prototype.gotoPage=function(t){return function(r){return function(){return r.currentPage(t)}}(this)},t.prototype.pageClass=function(t){return e(function(r){return function(){return r.currentPage()===t?"active":void 0}}(this))},t}()}).call(this);
//# sourceMappingURL=knockout-datatable.js.map