(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};this.DataTable=function(){function b(a,b){if(null==b.sortField)throw new Error("sortField must be supplied.");this.options={recordWord:b.recordWord||"record",recordWordPlural:b.recordWordPlural,sortDir:b.sortDir||"asc",sortField:b.sortField,perPage:b.perPage||15,filterFn:b.filterFn||void 0,unsortedClass:b.unsortedClass||"",descSortClass:b.descSortClass||"",ascSortClass:b.ascSortClass||""},this.sortDir=ko.observable(this.options.sortDir),this.sortField=ko.observable(this.options.sortField),this.perPage=ko.observable(this.options.perPage),this.currentPage=ko.observable(1),this.filter=ko.observable(""),this.loading=ko.observable(!1),this.filter.subscribe(function(a){return function(){return a.currentPage(1)}}(this)),this.rows=ko.observableArray(a),this.rowAttributeMap=ko.computed(function(b){return function(){var c,d,e;if(a=b.rows(),c={},a.length>0){e=a[0];for(d in e)e.hasOwnProperty(d)&&(c[d.toLowerCase()]=d)}return c}}(this)),this.filteredRows=ko.computed(function(b){return function(){var c,d;return c=b.filter(),a=b.rows.slice(0),""!==c&&(d=b.filterFn(c),a=a.filter(d)),a.sort(function(a,c){var d,e;return d=ko.utils.unwrapObservable(a[b.sortField()]),e=ko.utils.unwrapObservable(c[b.sortField()]),"string"==typeof d&&(d=d.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),"asc"===b.sortDir()?e>d||""===d||null==d?-1:d>e||""===e||null==e?1:0:e>d||""===d||null==d?1:d>e||""===e||null==e?-1:0})}}(this)),this.pagedRows=ko.computed(function(a){return function(){var b,c;return b=a.currentPage()-1,c=a.perPage(),a.filteredRows().slice(b*c,(b+1)*c)}}(this)),this.pages=ko.computed(function(a){return function(){return Math.ceil(a.filteredRows().length/a.perPage())}}(this)),this.leftPagerClass=ko.computed(function(a){return function(){return 1===a.currentPage()?"disabled":void 0}}(this)),this.rightPagerClass=ko.computed(function(a){return function(){return a.currentPage()===a.pages()?"disabled":void 0}}(this)),this.total=ko.computed(function(a){return function(){return a.filteredRows().length}}(this)),this.from=ko.computed(function(a){return function(){return(a.currentPage()-1)*a.perPage()+1}}(this)),this.to=ko.computed(function(a){return function(){var b;return b=a.currentPage()*a.perPage(),b>a.total()?a.total():b}}(this)),this.recordsText=ko.computed(function(a){return function(){var b,c,d,e,f,g;return c=a.pages(),g=a.total(),b=a.from(),f=a.to(),d=a.options.recordWord,e=a.options.recordWordPlural||d+"s",c>1?""+b+" to "+f+" of "+g+" "+e:""+g+" "+(g>1||0===g?e:d)}}(this)),this.showNoData=ko.computed(function(a){return function(){return 0===a.pagedRows().length&&!a.loading()}}(this)),this.showLoading=ko.computed(function(a){return function(){return a.loading()}}(this)),this.sortClass=function(a){return function(b){return ko.computed(function(){return a.sortField()===b?"asc"===a.sortDir()?a.options.ascSortClass:a.options.descSortClass:a.options.unsortedClass})}}(this)}var c;return c=function(a,b){return null==b?null==a:null!=a&&null!=b?"boolean"==typeof a?a===b:a.toString().toLowerCase().indexOf(b.toString().toLowerCase())>=0||a===b:!1},b.prototype.toggleSort=function(a){return function(b){return function(){return b.currentPage(1),b.sortField()===a?b.sortDir("asc"===b.sortDir()?"desc":"asc"):(b.sortDir("asc"),b.sortField(a))}}(this)},b.prototype.prevPage=function(){var a;return a=this.currentPage(),1!==a?this.currentPage(a-1):void 0},b.prototype.nextPage=function(){var a;return a=this.currentPage(),a!==this.pages()?this.currentPage(a+1):void 0},b.prototype.gotoPage=function(a){return function(b){return function(){return b.currentPage(a)}}(this)},b.prototype.pageClass=function(a){return ko.computed(function(b){return function(){return b.currentPage()===a?"active":void 0}}(this))},b.prototype.defaultMatch=function(a,b,d){var e,f;return function(){var a;a=[];for(e in d)f=d[e],a.push(f);return a}().some(function(d){return c(ko.isObservable(b[d])?b[d]():b[d],a)})},b.prototype.filterFn=function(b){var d,e,f,g,h;return null!=this.options.filterFn?this.options.filterFn(b):(h=[[],{}],f=h[0],g=h[1],b.split(" ").forEach(function(a){var b;return a.indexOf(":")>=0?(b=a.split(":"),g[b[0]]=function(){switch(b[1].toLowerCase()){case"yes":case"true":return!0;case"no":case"false":return!1;case"blank":case"none":case"null":case"undefined":return void 0;default:return b[1].toLowerCase()}}()):f.push(a)}),f=f.join(" "),e=this.defaultMatch,d=this.rowAttributeMap(),function(b){var h,i,j;return h=function(){var a;a=[];for(i in g)j=g[i],a.push(function(){return function(a,e){var f;return(f=d[a.toLowerCase()])?c(ko.isObservable(b[f])?b[f]():b[f],e):!1}}(this)(i,j));return a}.call(this),a.call(h,!1)<0&&(""!==f?null!=b.match?b.match(f):e(f,b,d):!0)})},b}()}).call(this);